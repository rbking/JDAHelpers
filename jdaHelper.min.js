!function(){"use strict";function checkForms(){frms.forEach(function(index,frm){var form=frms[frm];void 0!==form.formObj&&form.helperFn(form.formObj,inputs)})}function setTrailers(jsonObj){inputs.trailers=jsonObj}function validateRDC(rdc){for(var rdcs=[955,960,961,962,964,965,966,970,975,989,990,992,1413,1419,1420,1421,1424,1425,1426,1427,1429,1430,1431,1432,1436,1437,1438,1439,1440,1443,1447,1449,1450,1451,1453,1457,1463,1464,1466,1471,1472,1473,1477,3106,3110,3111,3112,3257,3258,3262,3264,3266,3270,3282,3287,3288,3289,3290,3291,3304,3312,3336,3701,3703];rdcs.indexOf(rdc)===-1;)if(rdc=parseInt(prompt("Enter your RDC")),isNaN(rdc))return{status:!1};return inputs.user.rdc=rdc,{status:!0,value:rdc}}function validateInitials(ini){for(;3!==ini.length;)if(null===(ini=prompt("Enter your 3 initials").toUpperCase()))return{status:!1};return inputs.user.initials=ini,{status:!0,value:ini}}function memoFormAssist(frm,inputs){var npText=jQuery('textarea[name="nonPrintableText"]'),prText=jQuery('textarea[name="printableText"]');npText.length>0&&(npText.val()||npText.text("Inbound PO Trailer Detention"),prText.val()||prText.text(npText.text()))}function rateFormAssist(frm,inputs){var user=inputs.user;!function(){[{name:"rateCalculatorMode_options",value:"AP_ONLY"},{name:"ratingUnitsPieces",value:1},{name:"ratingUnitsPallets",value:1},{name:"ratingUnitsWeight",value:5e3},{name:"origLocType_options",value:"HUB"},{name:"origLocID",value:"L"+user.rdc},{name:"destLocType_options",value:"DC"}].forEach(function(item,index){var e=frm[item.name];e.value=item.value,e.style.backgroundColor="yellow"})}()}function stopConfirmationFormAssist(frm,inputs){frm.mbol.value=jQuery(jQuery(".containerBody td")[1]).html()}function vehicleFormAssist(frm,inputs){var trls=inputs.trailers;if(trls.length>0){frm.trailerNumber.value=function(PO){for(var i=0;i<trls.length;i++)if(trls[i].BOL===""+PO)return trls[i].TrailerNum}(""+jQuery(jQuery(".containerBody td")[1]).html())}}function voucherFormAssist(frm,inputs){function fillInDefaults(){[{name:"carrCode",value:carr},{name:"tariffNumber",value:carrTrf[carr],colorBg:!0},{name:"custCode",value:"LOW"},{name:"service",value:"TL_VAN"},{name:"logisticsGroup",value:"LOW2"},{name:"refNumber",value:formatVoucher()},{name:"level_options",value:"OPTION"},{name:"chargeCode",value:"DETFR",colorBg:!0},{name:"reasonCode_options",value:"INBO_NO_EST",colorBg:!0},{name:"chargedAmount",value:dol,colorBg:!0},{name:"shipmentType",value:"NR"},{name:"profitCenter_options",value:"451000",colorBg:!0},{name:"voucherType_options",value:"MFC"},{name:"costCenter_options",value:"DOMESTIC"},{name:"origLocType",value:"HUB",colorBg:!0},{name:"origLocID",value:"L"+user.rdc,colorBg:!0}].forEach(function(item,index){var e=frm[item.name];e.value=item.value,item.colorBg===!0&&(e.style.backgroundColor="yellow")})}function formatVoucher(){return"MFC"+modDate()+user.initials}function modDate(){function addLeadingZeros(data){return("00"+data).slice(-2)}var dt=new Date;return""+dt.getFullYear()+addLeadingZeros(dt.getMonth()+1)+addLeadingZeros(dt.getDate())+addLeadingZeros(dt.getHours())+addLeadingZeros(dt.getMinutes())}var user=inputs.user,carr=void 0,dol=void 0,carrTrf={GPTD:"1917",SCNN:"1945",HUBG:"1994",PTAG:"1938",QPMT:"1939",WSXI:"1955",SUSE:"2007",AISB:"2422",EPES:"1985",SNCK:"1964",FCLC:"1712",CRCR:"1981",FIXR:"1714",CDNK:"1961",ROEV:"1943",USXI:"1950",MLXP:"2001",DART:"1983",HJBT:"1992"};!function(){carr=prompt("Enter the SCAC"),null!==carr&&(carr=carr.toUpperCase()),dol=prompt("Enter the $ amount",50),fillInDefaults()}()}function voucherListAssist(frm,inputs){var msg=jQuery("#tmMessageLink").text();if(msg.length>0){var i=msg.lastIndexOf("Voucher")+"Voucher".length,j=msg.lastIndexOf(" ");msg=msg.slice(i,j),msg.length>0&&(isNaN(msg)||jQuery("input[value*="+msg+"]").trigger("click"))}}var doc=window.document,JDAhelpers={checkForms:checkForms,validateRDC:validateRDC,validateInitials:validateInitials,setTrailers:setTrailers},inputs={user:{},trailers:{}},frms=[{formObj:doc.ApMiscVoucherForm,helperFn:voucherFormAssist},{formObj:doc.APVoucherListForm,helperFn:voucherListAssist},{formObj:doc.MemoForm,helperFn:memoFormAssist},{formObj:doc.RateCalcMainForm,helperFn:rateFormAssist},{formObj:doc.StopConfirmationForm,helperFn:stopConfirmationFormAssist},{formObj:doc.LoadVehicleInfoForm,helperFn:vehicleFormAssist}];window.JDAhelpers=JDAhelpers}();